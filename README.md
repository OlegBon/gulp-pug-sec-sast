# üß± Gulp + SAST: Secure Frontend Build

[](https://nodejs.org/)
[](https://www.npmjs.com/)
[](https://eslint.org/)
[](https://www.google.com/search?q=LICENSE)
[](https://www.google.com/search?q=https://github.com/OlegBon/itvdn-js-pug-ua/actions)
[](https://www.google.com/search?q=package.json)

–ú–æ–¥—É–ª—å–Ω–∏–π Gulp 5 —Å–µ—Ç–∞–ø –∑ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–º **—Å—Ç–∞—Ç–∏—á–Ω–∏–º –∞–Ω–∞–ª—ñ–∑–æ–º –±–µ–∑–ø–µ–∫–∏ (SAST)** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **ESLint**. –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –∑–±—ñ—Ä–∫—É (Pug, SCSS, JS) —Ç–∞ **–±–ª–æ–∫—É—î** —ó—ó –ø—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π –∞–±–æ –ø–æ–º–∏–ª–æ–∫ —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É. –ü–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ ESM, –∑ —á–∏—Å—Ç–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º.

## üöÄ –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è SAST:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ JavaScript –∫–æ–¥—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **ESLint** –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏.
- ‚úÖ **–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ–¥—É:** Gulp-–ø–∞–π–ø–ª–∞–π–Ω **–∑—É–ø–∏–Ω—è—î—Ç—å—Å—è** –ø—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫ ESLint (–Ω–∞–ø—Ä., `no-eval`, `no-implied-eval`, `no-unused-vars`).
- ‚úÖ –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è Pug ‚Üí HTML
- ‚úÖ SCSS ‚Üí CSS –∑ sourcemaps, autoprefixer, cssnano
- ‚úÖ Live reload —á–µ—Ä–µ–∑ Browsersync
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —à–ª—è—Ö–∞–º–∏ (`path.js`)
- ‚úÖ –ß–∏—Å—Ç–∏–π –±—ñ–ª–¥: `dev` (–∑ SAST) —ñ `prod` (–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π + SAST) —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–π –ª–æ–≥–µ—Ä –∑ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
npm install
```

> **–í–∞–∂–ª–∏–≤–æ:** –ü—Ä–æ—î–∫—Ç –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **ESLint v8** —Ç–∞ –ø–ª–∞–≥—ñ–Ω–∞ **`gulp-eslint-new`** –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ "legacy" `.eslintrc.json` –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é.

## üì¶ –í–∏–º–æ–≥–∏

- **Node.js** `>=18.x`
- **npm** `>=9.x`
- **–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞**: Windows, macOS –∞–±–æ Linux
- **–¢–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**: VS Code –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º–∏ –¥–ª—è Pug, SCSS, ESLint

> –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é Node.js: `node -v` > **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è HTML-–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó (`npm run htmlLint`, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è) –ø–æ—Ç—Ä—ñ–±–µ–Ω JDK \>= 11.

## üõ†Ô∏è –°–∫—Ä–∏–ø—Ç–∏

| –ö–æ–º–∞–Ω–¥–∞ ¬† ¬† ¬† ¬† ¬† ¬† ¬† | –û–ø–∏—Å ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†   |
| --------------------- | ---------------------------------------------------------------------------- |
| `npm run dev` ¬† ¬† ¬† ¬† | –ó–∞–ø—É—Å–∫–∞—î –±—ñ–ª–¥ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ **SAST-–ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é** —Ç–∞ live reload ¬† ¬† ¬† ¬† |
| `npm run prod` ¬† ¬† ¬†  | –ó–±–∏—Ä–∞—î –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ–¥–∞–∫—à–Ω-–±—ñ–ª–¥ **–∑ SAST-–ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é** + –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞    |
| `npm run tasks` ¬† ¬† ¬† | –ü–æ–∫–∞–∑—É—î –¥–æ—Å—Ç—É–ø–Ω—ñ Gulp-—Ç–∞—Å–∫–∏ ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†      |
| `npm run htmlLint` ¬†  | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ HTML-—Ñ–∞–π–ª—ñ–≤ –Ω–∞ –≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å (`dev`) ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†    |
| `npm run jsLintSrc`   | –ó–∞–ø—É—Å–∫ **SAST-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏** (`eslint`) –¥–ª—è `src/js` —Ñ–∞–π–ª—ñ–≤ ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†     |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É (–ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏)

```
‚îú‚îÄ‚îÄ gulpfile.js/
‚îÇ ¬† ‚îú‚îÄ‚îÄ index.js ¬† ¬† ¬† ¬† ¬† ¬† ¬† # –ì–æ–ª–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó (dev/prod)
‚îÇ ¬† ‚îú‚îÄ‚îÄ path.js ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†# –®–ª—è—Ö–∏
‚îÇ ¬† ‚îú‚îÄ‚îÄ styles.js ¬† ¬† ¬† ¬† ¬† ¬† ¬†# SCSS
‚îÇ ¬† ‚îú‚îÄ‚îÄ templates-pug.js ¬† ¬† ¬† # Pug
‚îÇ ¬† ‚îú‚îÄ‚îÄ templates-html.js ¬† ¬† ¬†# HTML
‚îÇ ¬† ‚îú‚îÄ‚îÄ scripts.js ¬† ¬† ¬† ¬† ¬† ¬† # JS: –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è, **SAST (eslint)**, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è
‚îÇ ¬† ‚îî‚îÄ‚îÄ logger.js ¬† ¬† ¬† ¬† ¬† ¬† ¬†# –õ–æ–≥–µ—Ä
‚îú‚îÄ‚îÄ src/
‚îÇ ¬† ‚îú‚îÄ‚îÄ js/script.js ¬† ¬† ¬† ¬† ¬† # –í–∏—Ö—ñ–¥–Ω–∏–π JS
‚îÇ ¬† ‚îú‚îÄ‚îÄ pug/index.pug ¬† ¬† ¬† ¬† ¬†# –í–∏—Ö—ñ–¥–Ω–∏–π Pug
‚îÇ ¬† ‚îî‚îÄ‚îÄ scss/main.scss ¬† ¬† ¬† ¬† # –í–∏—Ö—ñ–¥–Ω–∏–π SCSS
‚îú‚îÄ‚îÄ .eslintrc.json ¬† ¬† ¬† ¬† ¬† ¬† # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è ESLint (–∑ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑–ø–µ–∫–∏)
‚îî‚îÄ‚îÄ package.json ¬† ¬† ¬† ¬† ¬† ¬† ¬† # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (eslint@8, gulp-eslint-new)
```

## üõ°Ô∏è –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è SAST

- **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** ESLint v8 (`eslint:recommended`, `google`, + —è–≤–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ `no-eval`, `no-implied-eval`).
- **–ü–ª–∞–≥—ñ–Ω:** `gulp-eslint-new` (—Å—É–º—ñ—Å–Ω–∏–π –∑ ESLint v8 —Ç–∞ "legacy" –∫–æ–Ω—Ñ—ñ–≥–æ–º).
- **–ú–µ—Ö–∞–Ω—ñ–∑–º:** Gulp-–∑–∞–≤–¥–∞–Ω–Ω—è `scriptLint` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `eslint.failAfterError()` –¥–ª—è **–∑—É–ø–∏–Ω–∫–∏ –∑–±—ñ—Ä–∫–∏** –ø—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫.
- **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è:** –£ —Ñ–∞–π–ª—ñ `src/js/script.js` —î –∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É (`eval`, `setTimeout` –∑—ñ —Ä—è–¥–∫–æ–º, `unusedVariable`), —è–∫—ñ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –ø–∞–¥—ñ–Ω–Ω—è –∑–±—ñ—Ä–∫–∏ –ø—Ä–∏ —Ä–æ–∑–∫–æ–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—ñ.

## üôè –ü–æ–¥—è–∫–∏

–û—Å–æ–±–ª–∏–≤–∞ –ø–æ–¥—è–∫–∞ –∞–≤—Ç–æ—Ä–∞–º –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ ITVDN, —è–∫—ñ –Ω–∞–¥–∏—Ö–Ω—É–ª–∏ –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ü—å–æ–≥–æ –±—ñ–ª–¥-—Å–µ—Ç–∞–ø—É:

- **–°–ª–∞—Å—Ç–µ–Ω –ú–∞–∫—Å–∏–º** ‚Äî [–í–µ—Ä—Å—Ç–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Gulp](https://itvdn.com/ua/video/gulp)

  –ó–∞ —á—ñ—Ç–∫–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ —Ä–æ–±–æ—Ç–∏ Gulp —Ç–∞ –ø–æ–±—É–¥–æ–≤—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ workflow.

- **–ö—ñ–Ω–∞—à –°—Ç–∞–Ω—ñ—Å–ª–∞–≤** ‚Äî [–®–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä Pug](https://itvdn.com/ua/video/pug-ua)

  –ó–∞ –≥–ª–∏–±–æ–∫–µ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è —É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Pug —Ç–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä–∞.

> –¶—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Å—Ç–∞–ª–∏ –æ—Å–Ω–æ–≤–æ—é –¥–ª—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å, —è–∫—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ.

## üß† –ê–≤—Ç–æ—Ä

[OlegBon](https://github.com/OlegBon)

## üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Gulp.js Documentation](https://gulpjs.com/docs/en/getting-started/quick-start)
- [Pug.js Guide](https://pugjs.org/api/getting-started.html)
- [ESLint Documentation](https://www.google.com/search?q=https://eslint.org/docs/latest/) ‚Äî –æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è ESLint
- [OWASP Top Ten](https://owasp.org/www-project-top-ten/) ‚Äî –≥–æ–ª–æ–≤–Ω—ñ –≤–µ–±–≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ
- [PostCSS Docs](https://postcss.org/)
- [Browsersync Docs](https://browsersync.io/docs)
- [ITVDN: –í–µ—Ä—Å—Ç–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Gulp](https://itvdn.com/ua/video/gulp)
- [ITVDN: –®–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä Pug](https://itvdn.com/ua/video/pug-ua)

# ğŸ§± Gulp + SAST: Secure Frontend Build

[](https://nodejs.org/)
[](https://www.npmjs.com/)
[](https://eslint.org/)
[](https://www.google.com/search?q=LICENSE)
[](https://www.google.com/search?q=https://github.com/OlegBon/itvdn-js-pug-ua/actions)
[](https://www.google.com/search?q=package.json)

ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ¸Ğ¹ Gulp 5 ÑĞµÑ‚Ğ°Ğ¿ Ğ· Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¼ **ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¼ Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ¼ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸ (SAST)** Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ **ESLint**. ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·ÑƒÑ” Ğ·Ğ±Ñ–Ñ€ĞºÑƒ (Pug, SCSS, JS) Ñ‚Ğ° **Ğ±Ğ»Ğ¾ĞºÑƒÑ”** Ñ—Ñ— Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ÑĞ²Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğ¸Ñ… Ğ²Ñ€Ğ°Ğ·Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº ÑĞºĞ¾ÑÑ‚Ñ– ĞºĞ¾Ğ´Ñƒ. ĞŸĞ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ½Ğ° ESM, Ğ· Ñ‡Ğ¸ÑÑ‚Ğ¾Ñ Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¾Ñ Ñ‚Ğ° Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼.

## ğŸš€ ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–

- âœ… **Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ SAST:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° JavaScript ĞºĞ¾Ğ´Ñƒ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ **ESLint** Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ Ğ·Ğ±Ñ–Ñ€ĞºĞ¸.
- âœ… **Ğ‘Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ½ĞµĞ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ñƒ:** Gulp-Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ **Ğ·ÑƒĞ¿Ğ¸Ğ½ÑÑ”Ñ‚ÑŒÑÑ** Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ÑĞ²Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº ESLint (Ğ½Ğ°Ğ¿Ñ€., `no-eval`, `no-implied-eval`, `no-unused-vars`).
- âœ… ĞšĞ¾Ğ¼Ğ¿Ñ–Ğ»ÑÑ†Ñ–Ñ Pug â†’ HTML
- âœ… SCSS â†’ CSS Ğ· sourcemaps, autoprefixer, cssnano
- âœ… Live reload Ñ‡ĞµÑ€ĞµĞ· Browsersync
- âœ… Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ ÑˆĞ»ÑÑ…Ğ°Ğ¼Ğ¸ (`path.js`)
- âœ… Ğ§Ğ¸ÑÑ‚Ğ¸Ğ¹ Ğ±Ñ–Ğ»Ğ´: `dev` (Ğ· SAST) Ñ– `prod` (Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ + SAST) ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°
- âœ… Ğ†Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ Ğ»Ğ¾Ğ³ĞµÑ€ Ğ· Ğ°Ğ½Ğ°Ğ»Ñ–Ñ‚Ğ¸ĞºĞ¾Ñ

## ğŸ“¦ Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ

```bash
npm install
```

> **Ğ’Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾:** ĞŸÑ€Ğ¾Ñ”ĞºÑ‚ Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ **ESLint v8** Ñ‚Ğ° Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ğ° **`gulp-eslint-new`** Ğ´Ğ»Ñ ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ· "legacy" `.eslintrc.json` ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ”Ñ.

## ğŸ“¦ Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

- **Node.js** `>=18.x`
- **npm** `>=9.x`
- **ĞĞ¿ĞµÑ€Ğ°Ñ†Ñ–Ğ¹Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°**: Windows, macOS Ğ°Ğ±Ğ¾ Linux
- **Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€**: VS Code Ğ· Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½ÑĞ¼Ğ¸ Ğ´Ğ»Ñ Pug, SCSS, ESLint

> ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ²ĞµÑ€ÑÑ–Ñ Node.js: `node -v` > **ĞŸÑ€Ğ¸Ğ¼Ñ–Ñ‚ĞºĞ°:** Ğ”Ğ»Ñ HTML-Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ— (`npm run htmlLint`, ÑĞºÑ‰Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ) Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±ĞµĞ½ JDK \>= 11.

## ğŸ› ï¸ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¸

| ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Â  Â  Â  Â  Â  Â  Â  | ĞĞ¿Ğ¸Ñ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â    |
| --------------------- | ---------------------------------------------------------------------------- |
| `npm run dev` Â  Â  Â  Â  | Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ” Ğ±Ñ–Ğ»Ğ´ Ñƒ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ– Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ· **SAST-Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¾Ñ** Ñ‚Ğ° live reload Â  Â  Â  Â  |
| `npm run prod` Â  Â  Â   | Ğ—Ğ±Ğ¸Ñ€Ğ°Ñ” Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½-Ğ±Ñ–Ğ»Ğ´ **Ğ· SAST-Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¾Ñ** + Ğ·Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²ĞµÑ€Ğ°    |
| `npm run tasks` Â  Â  Â  | ĞŸĞ¾ĞºĞ°Ğ·ÑƒÑ” Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ– Gulp-Ñ‚Ğ°ÑĞºĞ¸ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â       |
| `npm run htmlLint` Â   | ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° HTML-Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ½Ğ° Ğ²Ğ°Ğ»Ñ–Ğ´Ğ½Ñ–ÑÑ‚ÑŒ (`dev`) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â     |
| `npm run jsLintSrc`   | Ğ—Ğ°Ğ¿ÑƒÑĞº **SAST-Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸** (`eslint`) Ğ´Ğ»Ñ `src/js` Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Â  Â  Â  Â  Â  Â  Â  Â      |
| `npm run buildOnly` Â  | ĞŸÑ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½-Ğ±Ñ–Ğ»Ğ´ **Ğ· SAST-Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¾Ñ** Ğ±ĞµĞ· Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ ÑĞµÑ€Ğ²ĞµÑ€Ğ° (`prod`) Â  Â  Â  Â  Â    |

> **ĞŸÑ€Ğ¸Ğ¼Ñ–Ñ‚ĞºĞ°:** Ğ”Ğ¾Ğ´Ğ°Ğ¹Ñ‚Ğµ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ `"buildOnly": "gulp --gulpfile ./gulpfile.js/index.js buildOnlyProd"` Ñƒ `package.json`, ÑĞºÑ‰Ğ¾ Ğ¹Ğ¾Ğ³Ğ¾ Ñ‚Ğ°Ğ¼ Ğ½ĞµĞ¼Ğ°Ñ”.

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ (ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ñ„Ğ°Ğ¹Ğ»Ğ¸)

```
â”œâ”€â”€ gulpfile.js/
â”‚ Â  â”œâ”€â”€ index.js Â  Â  Â  Â  Â  Â  Â  # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ñ– ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ñ— (dev/prod)
â”‚ Â  â”œâ”€â”€ path.js Â  Â  Â  Â  Â  Â  Â  Â # Ğ¨Ğ»ÑÑ…Ğ¸
â”‚ Â  â”œâ”€â”€ styles.js Â  Â  Â  Â  Â  Â  Â # SCSS
â”‚ Â  â”œâ”€â”€ templates-pug.js Â  Â  Â  # Pug
â”‚ Â  â”œâ”€â”€ templates-html.js Â  Â  Â # HTML
â”‚ Â  â”œâ”€â”€ scripts.js Â  Â  Â  Â  Â  Â  # JS: ĞºĞ¾Ğ¿Ñ–ÑĞ²Ğ°Ğ½Ğ½Ñ, **SAST (eslint)**, Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ
â”‚ Â  â””â”€â”€ logger.js Â  Â  Â  Â  Â  Â  Â # Ğ›Ğ¾Ğ³ĞµÑ€
â”œâ”€â”€ src/
â”‚ Â  â”œâ”€â”€ js/script.js Â  Â  Â  Â  Â  # Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ JS
â”‚ Â  â”œâ”€â”€ pug/index.pug Â  Â  Â  Â  Â # Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Pug
â”‚ Â  â””â”€â”€ scss/main.scss Â  Â  Â  Â  # Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ SCSS
â”œâ”€â”€ .eslintrc.json Â  Â  Â  Â  Â  Â  # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ ESLint (Ğ· Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸)
â””â”€â”€ package.json Â  Â  Â  Â  Â  Â  Â  # Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ– (eslint@8, gulp-eslint-new)
```

## ğŸ›¡ï¸ Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ SAST

- **Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚:** ESLint v8 (`eslint:recommended`, `google`, + ÑĞ²Ğ½Ñ– Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° `no-eval`, `no-implied-eval`).
- **ĞŸĞ»Ğ°Ğ³Ñ–Ğ½:** `gulp-eslint-new` (ÑÑƒĞ¼Ñ–ÑĞ½Ğ¸Ğ¹ Ğ· ESLint v8 Ñ‚Ğ° "legacy" ĞºĞ¾Ğ½Ñ„Ñ–Ğ³Ğ¾Ğ¼).
- **ĞœĞµÑ…Ğ°Ğ½Ñ–Ğ·Ğ¼:** Gulp-Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ `scriptLint` Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ” `eslint.failAfterError()` Ğ´Ğ»Ñ **Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ¸ Ğ·Ğ±Ñ–Ñ€ĞºĞ¸** Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ÑĞ²Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº.
- **Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ:** Ğ£ Ñ„Ğ°Ğ¹Ğ»Ñ– `src/js/script.js` Ñ” Ğ·Ğ°ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ ĞºĞ¾Ğ´Ñƒ (`eval`, `setTimeout` Ğ·Ñ– Ñ€ÑĞ´ĞºĞ¾Ğ¼, `unusedVariable`), ÑĞºÑ– Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°ÑÑ‚ÑŒ Ğ¿Ğ°Ğ´Ñ–Ğ½Ğ½Ñ Ğ·Ğ±Ñ–Ñ€ĞºĞ¸ Ğ¿Ñ€Ğ¸ Ñ€Ğ¾Ğ·ĞºĞ¾Ğ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ–.

## ğŸ™ ĞŸĞ¾Ğ´ÑĞºĞ¸

_(Ğ¦ĞµĞ¹ Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ» Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ·Ğ°Ğ»Ğ¸ÑˆĞ¸Ñ‚Ğ¸ Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½, Ğ¾ÑĞºÑ–Ğ»ÑŒĞºĞ¸ Ğ²Ñ–Ğ½ ÑÑ‚Ğ¾ÑÑƒÑ”Ñ‚ÑŒÑÑ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ñ— ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸ Gulp/Pug)._

## ğŸ§  ĞĞ²Ñ‚Ğ¾Ñ€

[OlegBon](https://github.com/OlegBon)

## ğŸ“š ĞšĞ¾Ñ€Ğ¸ÑĞ½Ñ– Ñ€ĞµÑÑƒÑ€ÑĞ¸

_(Ğ¦ĞµĞ¹ Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ» Ñ‚ĞµĞ¶ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹, Ğ°Ğ»Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° ESLint Ñ‚Ğ° OWASP):_

- [Gulp.js Documentation](https://gulpjs.com/docs/en/getting-started/quick-start)
- [Pug.js Guide](https://pugjs.org/api/getting-started.html)
- [ESLint Documentation](https://www.google.com/search?q=https://eslint.org/docs/latest/) â€” Ğ¾Ñ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ ESLint
- [OWASP Top Ten](https://owasp.org/www-project-top-ten/) â€” Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ñ– Ğ²ĞµĞ±Ğ²Ñ€Ğ°Ğ·Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–
- [PostCSS Docs](https://postcss.org/)
- [Browsersync Docs](https://browsersync.io/docs)
- [ITVDN: Ğ’ĞµÑ€ÑÑ‚ĞºĞ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ğ¾Ğº Ğ· Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½ÑĞ¼ Gulp](https://itvdn.com/ua/video/gulp)
- [ITVDN: Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ‚Ğ¾Ñ€ Pug](https://itvdn.com/ua/video/pug-ua)
